# Tech Plan: Basis-Setup für Mockup (Vercel + Supabase)

**Issue:** TBD
**Priority:** high

## 1. Datenbank (Supabase)

Für ein klickbares Mockup reichen minimalistische Tabellen mit Dummy-Daten. Fokus liegt auf sauberem Setup und RLS, nicht auf produktiven Datenmodellen.

### Migrationen
```sql
-- supabase/migrations/20260124000000_mockup_seed.sql
create table if not exists public.mockup_pages (
  id uuid primary key default gen_random_uuid(),
  slug text not null unique,
  title text not null,
  body text not null,
  created_at timestamptz not null default now()
);
```

### RLS Policies
```sql
alter table public.mockup_pages enable row level security;

create policy "mockup_pages_read"
  on public.mockup_pages
  for select
  to anon
  using (true);
```

## 2. Dateistruktur

```
apps/web/
  ├── app/
  │   ├── page.tsx
  │   └── mockup/
  │       ├── page.tsx
  │       └── [slug]/
  │           └── page.tsx
  ├── lib/
  │   └── mockup/
  │       └── data.ts
  └── README.md
```

## 3. Data Flow

1. User navigiert auf `/mockup` oder `/mockup/[slug]`.
2. Server Component lädt Daten aus `lib/mockup/data.ts` (Dummy-Daten) oder optional Supabase.
3. Seite rendert statisch die Mockup-Inhalte.
4. (Optional) Deployment auf Vercel zeigt Mockup öffentlich.

## 4. Schnittstellen

### Component Props
```typescript
interface MockupPageProps {
  slug: string
}
```

### API Types
```typescript
type MockupPage = {
  id: string
  slug: string
  title: string
  body: string
}
```

## 5. Security Considerations
- [ ] Supabase RLS aktivieren (auch für Dummy-Tabellen).
- [ ] Secrets nur via `.env` / Vercel Environment Variables.
- [ ] Keine sensiblen Daten im Mockup-Inhalt.

---

## Aufgaben für den Kulissenbauer (Umsetzung)

### Setup & Infrastruktur
- [ ] Vercel-Projekt für die App anlegen und Deployment-URL dokumentieren.
- [ ] Supabase-Projekt anlegen und Zugriffsdaten (URL + Anon Key) bereitstellen.
- [ ] Vercel Environment Variables setzen (`NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`).

### Code & Mockup
- [ ] Next.js App Router Mockup-Seiten in `apps/web/app/mockup` erstellen.
- [ ] Dummy-Daten-Layer in `apps/web/lib/mockup/data.ts` anlegen (Fallback ohne Supabase).
- [ ] (Optional) Supabase-Client anbinden und Mockup-Seiten aus `mockup_pages` lesen.

### Datenbank
- [ ] Migration für `mockup_pages` in `supabase/migrations/` ergänzen.
- [ ] RLS aktivieren und Read-Policy für `anon` prüfen.

### Dokumentation
- [ ] Kurzen Setup-Guide in `apps/web/README.md` ergänzen (lokal starten, deployen).
